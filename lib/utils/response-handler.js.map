{"version":3,"file":"response-handler.js","names":["ResponseHandler","_createClass2","default","_classCallCheck2","_defineProperty2","res","data","arguments","length","undefined","message","statusCode","status","json","status_code","error","err","Object","keys","constructor","Array","isArray","params","code","concat","keyValue","responseHandler","exports"],"sources":["../../src/utils/response-handler.js"],"sourcesContent":["/**\n * response handlers\n */\n\nclass ResponseHandler {\n\n    successResponse = (res, data = {}, message = '', statusCode = 200) => {\n        return res.status(statusCode).json({\n            status_code: statusCode,\n            status: true,\n            message: message,\n            data: data\n        });\n    }\n\n    errorResponse = (res, error, message, statusCode) => {\n        const err = (Object.keys(error).length === 0 && error.constructor === Object) || (Array.isArray(error) && error.length === 0) ? error : {};\n\n        let params = {\n            status_code: 500,\n            status: false,\n            message: error.message,\n            data: err\n        }\n        if (message) { params.message = message, params.status_code = 400 }\n        if (statusCode) params.status_code = statusCode\n        if (error.code == 11000) {\n            params.status_code = 400\n            params.message = `${Object.keys(error.keyValue)} already exists`\n        }\n        return res.status(params.status_code).json(params);\n    }\n}\n\nexport const responseHandler = new ResponseHandler();\n\n"],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AAFA,IAIMA,eAAe,oBAAAC,aAAA,CAAAC,OAAA,WAAAF,gBAAA;EAAA,IAAAG,gBAAA,CAAAD,OAAA,QAAAF,eAAA;EAAA,IAAAI,gBAAA,CAAAF,OAAA,2BAEC,UAACG,GAAG,EAAgD;IAAA,IAA9CC,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;IAAA,IAAEG,OAAO,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;IAAA,IAAEI,UAAU,GAAAJ,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,GAAG;IAC7D,OAAOF,GAAG,CAACO,MAAM,CAACD,UAAU,CAAC,CAACE,IAAI,CAAC;MAC/BC,WAAW,EAAEH,UAAU;MACvBC,MAAM,EAAE,IAAI;MACZF,OAAO,EAAEA,OAAO;MAChBJ,IAAI,EAAEA;IACV,CAAC,CAAC;EACN,CAAC;EAAA,IAAAF,gBAAA,CAAAF,OAAA,yBAEe,UAACG,GAAG,EAAEU,KAAK,EAAEL,OAAO,EAAEC,UAAU,EAAK;IACjD,IAAMK,GAAG,GAAIC,MAAM,CAACC,IAAI,CAACH,KAAK,CAAC,CAACP,MAAM,KAAK,CAAC,IAAIO,KAAK,CAACI,WAAW,KAAKF,MAAM,IAAMG,KAAK,CAACC,OAAO,CAACN,KAAK,CAAC,IAAIA,KAAK,CAACP,MAAM,KAAK,CAAE,GAAGO,KAAK,GAAG,CAAC,CAAC;IAE1I,IAAIO,MAAM,GAAG;MACTR,WAAW,EAAE,GAAG;MAChBF,MAAM,EAAE,KAAK;MACbF,OAAO,EAAEK,KAAK,CAACL,OAAO;MACtBJ,IAAI,EAAEU;IACV,CAAC;IACD,IAAIN,OAAO,EAAE;MAAEY,MAAM,CAACZ,OAAO,GAAGA,OAAO,EAAEY,MAAM,CAACR,WAAW,GAAG,GAAG;IAAC;IAClE,IAAIH,UAAU,EAAEW,MAAM,CAACR,WAAW,GAAGH,UAAU;IAC/C,IAAII,KAAK,CAACQ,IAAI,IAAI,KAAK,EAAE;MACrBD,MAAM,CAACR,WAAW,GAAG,GAAG;MACxBQ,MAAM,CAACZ,OAAO,MAAAc,MAAA,CAAMP,MAAM,CAACC,IAAI,CAACH,KAAK,CAACU,QAAQ,CAAC,oBAAiB;IACpE;IACA,OAAOpB,GAAG,CAACO,MAAM,CAACU,MAAM,CAACR,WAAW,CAAC,CAACD,IAAI,CAACS,MAAM,CAAC;EACtD,CAAC;AAAA;AAGE,IAAMI,eAAe,GAAAC,OAAA,CAAAD,eAAA,GAAG,IAAI1B,eAAe,CAAC,CAAC"}