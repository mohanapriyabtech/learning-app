{"version":3,"file":"mail-sender.js","names":["_nodemailer","_interopRequireDefault","require","_index","_base","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf2","default","result","NewTarget","constructor","Reflect","construct","arguments","apply","_possibleConstructorReturn2","sham","Proxy","Boolean","prototype","valueOf","call","e","MailConfig","_BaseConfig","_inherits2","_super","_classCallCheck2","_createClass2","key","value","_sendEmail","_asyncToGenerator2","_regenerator","mark","_callee2","email","subject","text","transporter","mailOptions","wrap","_callee2$","_context2","prev","next","nodeMailer","createTransport","host","config","ENV","SMTP_HOST","secure","port","auth","user","SMTP_USERNAME","pass","SMTP_PASSWORD","from","EMAIL_FROM","to","attachDataUrls","html","abrupt","Promise","_ref","_callee","resolve","reject","_callee$","_context","sendMail","err","info","console","log","message","stop","_x4","_x5","sendEmail","_x","_x2","_x3","BaseConfig","_default","exports"],"sources":["../../src/utils/mail-sender.js"],"sourcesContent":["import nodeMailer from 'nodemailer';\nimport { config } from '../config/index'\nimport BaseConfig from \"../config/base\";\n\n\n// Mail Configuration\n\nclass MailConfig extends BaseConfig {\n\n  constructor() {\n    super();\n  }\n\n  // Email config\n\n  async sendEmail(email, subject, text) {\n    const transporter = nodeMailer.createTransport({\n\n      host: config.ENV.SMTP_HOST, // 'smtp.zoho.com',\n      secure: true,\n      port: config.ENV.SMTP_HOST, // 465,\n      auth: {\n        user: config.ENV.SMTP_USERNAME,\n        pass: config.ENV.SMTP_PASSWORD,\n      },\n\n    });\n\n\n    const mailOptions = {\n\n      from: config.ENV.EMAIL_FROM, // sender address\n      to: email,    // receiver address\n      subject: subject,\n      attachDataUrls: true,\n      html: text,\n    };\n\n    return new Promise(async (resolve, reject) => {\n      transporter.sendMail(mailOptions, function (err, info) {\n        if (err) {\n          console.log(err.message)\n          resolve(err.message)\n        } else {\n          resolve('mailSent')\n        }\n\n      })\n    })\n\n  }\n\n}\n\nexport default new MailConfig();\n\n\n\n\n"],"mappings":"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"}