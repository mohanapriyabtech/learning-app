{"version":3,"file":"create-project-controller.js","names":["_encrypt","require","_responseHandler","_projectModel","_uuid","ProjectCreateController","_classCallCheck2","default","_createClass2","key","value","_create","_asyncToGenerator2","_regenerator","mark","_callee","req","res","project","senderId","wrap","_callee$","_context","prev","next","Project","body","api_key","uuidv4","console","log","headers","authorization","JSON","parse","decrypt","user_id","user","_id","save","then","result","responseHandler","successResponse","catch","err","errorResponse","t0","abrupt","stop","create","_x","_x2","apply","arguments","_default","exports"],"sources":["../../../../../../src/modules/v1/user/controllers/project-management /create-project-controller.js"],"sourcesContent":["\nimport { decrypt } from \"../../../../../utils/encrypt\";\nimport { responseHandler } from \"../../../../../utils/response-handler\";\nimport { Project } from \"../../models/project-model\";\nimport { v4 as uuidv4 } from 'uuid';\n\n\n\n\n\n\nclass ProjectCreateController {\n\n    constructor() {\n    }\n\n    /**\n     * @description   API to create project\n     * @param {*} req /api/v1/admin/create-project\n     * @param {*} res \n     */\n\n    async create(req, res) {\n\n        try {\n\n            const project = new Project(req.body)\n            // Generate a UUID\n            project.api_key = uuidv4();\n            console.log(req.headers.authorization,\"\")\n            const senderId = JSON.parse(decrypt(req.headers.authorization))\n            project.user_id = senderId.user._id\n            project.save()\n\n            .then(result => {\n                return responseHandler.successResponse(res, result, \"Project created successfully\", 200);\n            })\n            .catch(err => {\n                return responseHandler.errorResponse(res, err);\n            });\n\n        } catch (err) {\n            return responseHandler.errorResponse(res, err);\n        }\n\n    }\n}\n\nexport default new ProjectCreateController();\n\n"],"mappings":";;;;;;;;;;;AACA,IAAAA,QAAA,GAAAC,OAAA;AACA,IAAAC,gBAAA,GAAAD,OAAA;AACA,IAAAE,aAAA,GAAAF,OAAA;AACA,IAAAG,KAAA,GAAAH,OAAA;AAAoC,IAO9BI,uBAAuB;EAEzB,SAAAA,wBAAA,EAAc;IAAA,IAAAC,gBAAA,CAAAC,OAAA,QAAAF,uBAAA;EACd;;EAEA;AACJ;AACA;AACA;AACA;EAJI,IAAAG,aAAA,CAAAD,OAAA,EAAAF,uBAAA;IAAAI,GAAA;IAAAC,KAAA;MAAA,IAAAC,OAAA,OAAAC,kBAAA,CAAAL,OAAA,gBAAAM,YAAA,CAAAN,OAAA,CAAAO,IAAA,CAMA,SAAAC,QAAaC,GAAG,EAAEC,GAAG;QAAA,IAAAC,OAAA,EAAAC,QAAA;QAAA,OAAAN,YAAA,CAAAN,OAAA,CAAAa,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAIPL,OAAO,GAAG,IAAIO,qBAAO,CAACT,GAAG,CAACU,IAAI,CAAC,EACrC;cACAR,OAAO,CAACS,OAAO,GAAG,IAAAC,QAAM,EAAC,CAAC;cAC1BC,OAAO,CAACC,GAAG,CAACd,GAAG,CAACe,OAAO,CAACC,aAAa,EAAC,EAAE,CAAC;cACnCb,QAAQ,GAAGc,IAAI,CAACC,KAAK,CAAC,IAAAC,gBAAO,EAACnB,GAAG,CAACe,OAAO,CAACC,aAAa,CAAC,CAAC;cAC/Dd,OAAO,CAACkB,OAAO,GAAGjB,QAAQ,CAACkB,IAAI,CAACC,GAAG;cACnCpB,OAAO,CAACqB,IAAI,CAAC,CAAC,CAEbC,IAAI,CAAC,UAAAC,MAAM,EAAI;gBACZ,OAAOC,gCAAe,CAACC,eAAe,CAAC1B,GAAG,EAAEwB,MAAM,EAAE,8BAA8B,EAAE,GAAG,CAAC;cAC5F,CAAC,CAAC,CACDG,KAAK,CAAC,UAAAC,GAAG,EAAI;gBACV,OAAOH,gCAAe,CAACI,aAAa,CAAC7B,GAAG,EAAE4B,GAAG,CAAC;cAClD,CAAC,CAAC;cAACvB,QAAA,CAAAE,IAAA;cAAA;YAAA;cAAAF,QAAA,CAAAC,IAAA;cAAAD,QAAA,CAAAyB,EAAA,GAAAzB,QAAA;cAAA,OAAAA,QAAA,CAAA0B,MAAA,WAGIN,gCAAe,CAACI,aAAa,CAAC7B,GAAG,EAAAK,QAAA,CAAAyB,EAAK,CAAC;YAAA;YAAA;cAAA,OAAAzB,QAAA,CAAA2B,IAAA;UAAA;QAAA,GAAAlC,OAAA;MAAA,CAGrD;MAAA,SAAAmC,OAAAC,EAAA,EAAAC,GAAA;QAAA,OAAAzC,OAAA,CAAA0C,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAJ,MAAA;IAAA;EAAA;EAAA,OAAA7C,uBAAA;AAAA;AAAA,IAAAkD,QAAA,GAAAC,OAAA,CAAAjD,OAAA,GAGU,IAAIF,uBAAuB,CAAC,CAAC"}