{"version":3,"file":"params-validator.js","names":["_joi","_interopRequireDefault","require","_responseHandler","Joi","objectId","ParamsValidator","_createClass2","default","_this","_classCallCheck2","_defineProperty2","req","res","next","_this$schema$validate","schema","validate","params","id","error","responseHandler","errorResponse","message","err","console","required","Error","_default","exports"],"sources":["../../../../../src/modules/v1/admin/validators/params-validator.js"],"sourcesContent":["import Joi from 'joi';\nimport { responseHandler } from '../../../../utils/response-handler';\nJoi.objectId = require('joi-objectid')(Joi);\n\nclass ParamsValidator {\n    constructor() {\n        this.schema = Joi.objectId().required().error(new Error(\"Please provide a proper id\"));\n    }\n\n    validate = (req, res, next) => {\n        try {\n            const { error } = this.schema.validate(req.params.id);\n            if (!error) {\n                next();\n            } else {\n                return responseHandler.errorResponse(res, {}, error.message, 400);\n            }\n        } catch (err) {\n            console.error(err);\n            return responseHandler.errorResponse(res, err);\n        }\n    };\n}\n\nexport default new ParamsValidator();\n"],"mappings":";;;;;;;;;;AAAA,IAAAA,IAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,gBAAA,GAAAD,OAAA;AACAE,YAAG,CAACC,QAAQ,GAAGH,OAAO,CAAC,cAAc,CAAC,CAACE,YAAG,CAAC;AAAC,IAEtCE,eAAe,oBAAAC,aAAA,CAAAC,OAAA,EACjB,SAAAF,gBAAA,EAAc;EAAA,IAAAG,KAAA;EAAA,IAAAC,gBAAA,CAAAF,OAAA,QAAAF,eAAA;EAAA,IAAAK,gBAAA,CAAAH,OAAA,oBAIH,UAACI,GAAG,EAAEC,GAAG,EAAEC,IAAI,EAAK;IAC3B,IAAI;MACA,IAAAC,qBAAA,GAAkBN,KAAI,CAACO,MAAM,CAACC,QAAQ,CAACL,GAAG,CAACM,MAAM,CAACC,EAAE,CAAC;QAA7CC,KAAK,GAAAL,qBAAA,CAALK,KAAK;MACb,IAAI,CAACA,KAAK,EAAE;QACRN,IAAI,CAAC,CAAC;MACV,CAAC,MAAM;QACH,OAAOO,gCAAe,CAACC,aAAa,CAACT,GAAG,EAAE,CAAC,CAAC,EAAEO,KAAK,CAACG,OAAO,EAAE,GAAG,CAAC;MACrE;IACJ,CAAC,CAAC,OAAOC,GAAG,EAAE;MACVC,OAAO,CAACL,KAAK,CAACI,GAAG,CAAC;MAClB,OAAOH,gCAAe,CAACC,aAAa,CAACT,GAAG,EAAEW,GAAG,CAAC;IAClD;EACJ,CAAC;EAfG,IAAI,CAACR,MAAM,GAAGZ,YAAG,CAACC,QAAQ,CAAC,CAAC,CAACqB,QAAQ,CAAC,CAAC,CAACN,KAAK,CAAC,IAAIO,KAAK,CAAC,4BAA4B,CAAC,CAAC;AAC1F,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAArB,OAAA,GAiBU,IAAIF,eAAe,CAAC,CAAC"}